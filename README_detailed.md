# EtherCAT_layer

EtherCAT_layer is a modular C++ project implementing an EtherCAT master application that manages multiple EtherCAT slave devices. The project is designed to provide a layered architecture for EtherCAT communication, supporting various types of slave devices and their specific functionalities.

## Project Structure

- **CMakeLists.txt**: Build configuration file using CMake. It sets the C++17 standard, links to the EtherCAT library, and includes multiple submodules for different slave device types and application layers.

- **code_runner.sh**: A shell script likely used to build or run the project (details not provided).

- **Pick_and_place.cpp**: A C++ source file, possibly an example or test application related to pick and place operations.

- **build/**: Directory containing build artifacts, intermediate files, and compiled binaries generated by CMake.

- **src/**: Source code directory containing the main application and modular components:
  - **main.cpp**: The main entry point of the application. It initializes the EtherCAT master, creates and manages multiple slave device instances, and runs the cyclic EtherCAT communication tasks.
  - **Ec_app/**: Application layer managing the EtherCAT slaves and overall application logic.
  - **Ec_slave/**: Implementations of various EtherCAT slave device types, such as EK_1100, EK_1122, EL_2008, EL_1008, RFID, MACT, INGENIA, etc.
  - **Ec_slave_base/**: Base classes and common functionality for slave devices.
  - **Ec_slave_base_motor_drive/**, **Ec_slave_base_digital_in/**, **Ec_slave_base_digital_out/**, **Ec_slave_base_analog_in/**, **Ec_slave_base_rs232/**, **Ec_slave_base_coupler/**, **Ec_slave_base_junction/**: Specialized base classes for different categories of slave devices, providing modular and extensible support for various hardware interfaces and protocols.
  - **Ec_utils/**: Utility classes and helper functions used across the project.
  - **Ec_logger/**: Logging utilities for console and file logging.
  - **Ec_eni/**: EtherCAT Network Information (ENI) files and related structures for network configuration.
  - **Common/**: Common headers and shared definitions.

## Build and Installation

The project uses CMake for build configuration. It requires the EtherCAT library (libethercat.a) to be installed, typically located at `/usr/local/etherlab/lib/libethercat.a`.

To build the project:

```bash
mkdir build
cd build
cmake ..
make
```

The resulting executable `ethercat_layer` will be created in the build directory and can be installed to the system using:

```bash
make install
```

## Functionality

The main application initializes the EtherCAT master and creates instances of various slave devices, each representing a specific hardware module. These slaves are added to the application layer, which manages their lifecycle, configuration, and cyclic communication tasks.

The application runs a cyclic task loop to maintain real-time communication with the EtherCAT network, handling data exchange and device control.

## Summary

EtherCAT_layer provides a comprehensive and modular framework for EtherCAT master applications, supporting a wide range of slave devices and hardware interfaces. Its layered architecture and modular design facilitate extensibility and maintainability for industrial automation projects.
